<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>nba_players</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="nba_players_files/libs/clipboard/clipboard.min.js"></script>
<script src="nba_players_files/libs/quarto-html/quarto.js"></script>
<script src="nba_players_files/libs/quarto-html/popper.min.js"></script>
<script src="nba_players_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="nba_players_files/libs/quarto-html/anchor.min.js"></script>
<link href="nba_players_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="nba_players_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="nba_players_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="nba_players_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="nba_players_files/libs/bootstrap/bootstrap-8a79a254b8e706d3c925cde0a310d4f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Importing tables from the web</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li>In thi snippet, we will import tables from the web and perform some analysis on the data. In order to do this, we will use the <code>pandas</code> library to read the tables from a given URL. We use the URL of the NBA 2018 per game statistics page as an example. The pandas <code>read_html</code> function is used to read the tables from the URL, and we display the number of tables read.</li>
</ul>
<div id="53c171bb" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b7bae1e2" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># NBA</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://www.basketball-reference.com/leagues/NBA_2018_per_game.html"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>tables <span class="op">=</span> pd.read_html(url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="understanding-the-structure-of-the-data." class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-structure-of-the-data.">Understanding the structure of the data.</h2>
<ul>
<li>The data contains multiple tables, and we can access each table by its index. We can display the column names of the first table to understand the structure of the data. But how do we know how many tables are there in the data? We can use the <code>len</code> function to find out the number of tables in the data.</li>
</ul>
<div id="35a933c4" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of tables</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(tables)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>2</code></pre>
</div>
</div>
<ul>
<li>Now that we know the number of tables in the data, we can access each table by its index. Let’s display the column names of the first table to understand the structure of the data.</li>
</ul>
<div id="39ea9803" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The column names of the first table</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>tables[<span class="dv">0</span>].columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>Index(['Rk', 'Player', 'Age', 'Team', 'Pos', 'G', 'GS', 'MP', 'FG', 'FGA',
       'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA',
       'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PTS',
       'Awards'],
      dtype='object')</code></pre>
</div>
</div>
</section>
<section id="let-the-fun-begin" class="level2">
<h2 class="anchored" data-anchor-id="let-the-fun-begin">Let the fun begin</h2>
<ul>
<li><p>Now that we have an understanding of the structure of the data, we can start analyzing the data. We can perform various operations such as filtering, sorting, and visualization to gain insights from the data. Let’s start by displaying the data from the first table.</p></li>
<li><p>In the data, we have information about the players in the NBA, including their age, team, points per game, and awards. We can filter the data based on different criteria to find interesting patterns and insights.</p></li>
<li><p>As the start, who is the oldest player in the NBA?</p></li>
</ul>
<div id="2fe466ad" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Oldest players in the NBA</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>]]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>players[players[<span class="st">"Age"</span>] <span class="op">==</span> players[<span class="st">"Age"</span>].<span class="bu">max</span>()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">391</td>
<td>326.0</td>
<td>Vince Carter</td>
<td>41.0</td>
<td>SAC</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>Now we know that Vince Carter is the oldest player in the NBA, and which team he plays for. Let’s find out who the youngest player is.</li>
</ul>
<div id="4b1e6d72" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Youngest players in the NBA</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span>  tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>]]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>players[players[<span class="st">"Age"</span>] <span class="op">==</span> players[<span class="st">"Age"</span>].<span class="bu">min</span>()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">106</td>
<td>91.0</td>
<td>Jayson Tatum</td>
<td>19.0</td>
<td>BOS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">259</td>
<td>217.0</td>
<td>Jarrett Allen</td>
<td>19.0</td>
<td>BRK</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">300</td>
<td>254.0</td>
<td>Markelle Fultz</td>
<td>19.0</td>
<td>PHI</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">325</td>
<td>275.0</td>
<td>Malik Monk</td>
<td>19.0</td>
<td>CHO</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">371</td>
<td>308.0</td>
<td>Frank Ntilikina</td>
<td>19.0</td>
<td>NYK</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">526</td>
<td>431.0</td>
<td>Terrance Ferguson</td>
<td>19.0</td>
<td>OKC</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">623</td>
<td>504.0</td>
<td>Ike Anigbogu</td>
<td>19.0</td>
<td>IND</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li><p>Here, we find that there are multiple players with the same age, and we can sort them by points to see who has scored the most points, or even find out which positions and teams they play for. But we are not going to do that.</p></li>
<li><p>Remember in the oldest player, we only got one player, but in the youngest player, we got multiple players. We can go deeper to find out the top 10 oldest players in the NBA, and the points they have scored in all games, plus their teams.</p></li>
</ul>
<div id="f03f0258" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 oldest players in the NBA ranked by points in all games</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>]]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"Age"</span>], ascending<span class="op">=</span>[<span class="va">False</span>]).head(<span class="dv">10</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">391</td>
<td>326.0</td>
<td>Vince Carter</td>
<td>41.0</td>
<td>SAC</td>
<td>5.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">517</td>
<td>424.0</td>
<td>Jason Terry</td>
<td>40.0</td>
<td>MIL</td>
<td>3.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">223</td>
<td>191.0</td>
<td>Manu Ginóbili</td>
<td>40.0</td>
<td>SAS</td>
<td>8.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">150</td>
<td>131.0</td>
<td>Dirk Nowitzki</td>
<td>39.0</td>
<td>DAL</td>
<td>12.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">603</td>
<td>488.0</td>
<td>Damien Wilkins</td>
<td>38.0</td>
<td>IND</td>
<td>1.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">646</td>
<td>525.0</td>
<td>Udonis Haslem</td>
<td>37.0</td>
<td>MIA</td>
<td>0.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">611</td>
<td>496.0</td>
<td>Richard Jefferson</td>
<td>37.0</td>
<td>DEN</td>
<td>1.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">317</td>
<td>269.0</td>
<td>David West</td>
<td>37.0</td>
<td>GSW</td>
<td>6.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">188</td>
<td>162.0</td>
<td>Jamal Crawford</td>
<td>37.0</td>
<td>MIN</td>
<td>10.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">576</td>
<td>467.0</td>
<td>Nick Collison</td>
<td>37.0</td>
<td>OKC</td>
<td>2.1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>But wait, how many players are there in the NBA? Let’s find out.</li>
</ul>
<div id="ff902370" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count number of players in NBA.</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Number of players in the NBA: </span><span class="sc">{</span><span class="bu">len</span>(players)<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of players in the NBA: 665</code></pre>
</div>
</div>
<ul>
<li><p>Now that we know the number of players in the NBA, we can find out the top 10 youngest players in the NBA, ranked by points in all games. Does it mean without this we couldn’t have known the number of youngest players in the NBA? No, we could have known, but we are adding some fun.</p></li>
<li><p>In this analysis, we will find out who are the top 10 youngest players in the NBA, ranked by points in all games.</p></li>
</ul>
<div id="5b75cca1" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># top 10 youngest players in the NBA ranked by points in all games</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>]]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>players[players[<span class="st">"Age"</span>] <span class="op">==</span> players[<span class="st">"Age"</span>].<span class="bu">min</span>()].sort_values(by<span class="op">=</span><span class="st">"PTS"</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">106</td>
<td>91.0</td>
<td>Jayson Tatum</td>
<td>19.0</td>
<td>BOS</td>
<td>13.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">259</td>
<td>217.0</td>
<td>Jarrett Allen</td>
<td>19.0</td>
<td>BRK</td>
<td>8.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">300</td>
<td>254.0</td>
<td>Markelle Fultz</td>
<td>19.0</td>
<td>PHI</td>
<td>7.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">325</td>
<td>275.0</td>
<td>Malik Monk</td>
<td>19.0</td>
<td>CHO</td>
<td>6.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">371</td>
<td>308.0</td>
<td>Frank Ntilikina</td>
<td>19.0</td>
<td>NYK</td>
<td>5.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">526</td>
<td>431.0</td>
<td>Terrance Ferguson</td>
<td>19.0</td>
<td>OKC</td>
<td>3.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">623</td>
<td>504.0</td>
<td>Ike Anigbogu</td>
<td>19.0</td>
<td>IND</td>
<td>1.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>We can also detemine which players have won awards. Let’s find out who they are. We will filter the data to show only players who have won awards.</li>
</ul>
<div id="74e9c509" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only players with awards</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>players[players[<span class="st">"Awards"</span>].notnull()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>James Harden</td>
<td>28.0</td>
<td>HOU</td>
<td>30.4</td>
<td>MVP-1,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>Anthony Davis</td>
<td>24.0</td>
<td>NOP</td>
<td>28.1</td>
<td>MVP-3,DPOY-3,AS,NBA1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>LeBron James</td>
<td>33.0</td>
<td>CLE</td>
<td>27.5</td>
<td>MVP-2,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>Giannis Antetokounmpo</td>
<td>23.0</td>
<td>MIL</td>
<td>26.9</td>
<td>MVP-6,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>Damian Lillard</td>
<td>27.0</td>
<td>POR</td>
<td>26.9</td>
<td>MVP-4,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6.0</td>
<td>Stephen Curry</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-10,AS,NBA3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7.0</td>
<td>Kevin Durant</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-7,DPOY-9,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8.0</td>
<td>Russell Westbrook</td>
<td>29.0</td>
<td>OKC</td>
<td>25.4</td>
<td>MVP-5,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>9.0</td>
<td>DeMarcus Cousins</td>
<td>27.0</td>
<td>NOP</td>
<td>25.2</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>11.0</td>
<td>Kyrie Irving</td>
<td>25.0</td>
<td>BOS</td>
<td>24.4</td>
<td>AS</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>12.0</td>
<td>LaMarcus Aldridge</td>
<td>32.0</td>
<td>SAS</td>
<td>23.1</td>
<td>MVP-9,AS,NBA2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>13.0</td>
<td>Victor Oladipo</td>
<td>25.0</td>
<td>IND</td>
<td>23.1</td>
<td>MVP-13,DPOY-15,MIP-1,AS,NBA3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>14.0</td>
<td>DeMar DeRozan</td>
<td>28.0</td>
<td>TOR</td>
<td>23.0</td>
<td>MVP-8,AS,NBA2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>15.0</td>
<td>Joel Embiid</td>
<td>23.0</td>
<td>PHI</td>
<td>22.9</td>
<td>MVP-12,DPOY-2,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>16.0</td>
<td>Kristaps Porziņģis</td>
<td>22.0</td>
<td>NYK</td>
<td>22.7</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>17.0</td>
<td>Bradley Beal</td>
<td>24.0</td>
<td>WAS</td>
<td>22.6</td>
<td>AS</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>18.0</td>
<td>Lou Williams</td>
<td>31.0</td>
<td>LAC</td>
<td>22.6</td>
<td>6MOY-1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>19.0</td>
<td>Jimmy Butler</td>
<td>28.0</td>
<td>MIN</td>
<td>22.2</td>
<td>MVP-10,DPOY-12,AS,NBA3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>20.0</td>
<td>Kemba Walker</td>
<td>27.0</td>
<td>CHO</td>
<td>22.1</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>21.0</td>
<td>Paul George</td>
<td>27.0</td>
<td>OKC</td>
<td>21.9</td>
<td>DPOY-4,AS,NBA3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>24.0</td>
<td>Karl-Anthony Towns</td>
<td>22.0</td>
<td>MIN</td>
<td>21.3</td>
<td>AS,NBA3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>25.0</td>
<td>Donovan Mitchell</td>
<td>21.0</td>
<td>UTA</td>
<td>20.5</td>
<td>ROY-2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>28.0</td>
<td>Klay Thompson</td>
<td>27.0</td>
<td>GSW</td>
<td>20.0</td>
<td>DPOY-11,AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>32.0</td>
<td>John Wall</td>
<td>27.0</td>
<td>WAS</td>
<td>19.4</td>
<td>AS</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>33.0</td>
<td>Jrue Holiday</td>
<td>27.0</td>
<td>NOP</td>
<td>19.0</td>
<td>DPOY-7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>38.0</td>
<td>Eric Gordon</td>
<td>29.0</td>
<td>HOU</td>
<td>18.0</td>
<td>6MOY-2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>44.0</td>
<td>Kevin Love</td>
<td>29.0</td>
<td>CLE</td>
<td>17.6</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">52</td>
<td>47.0</td>
<td>Goran Dragić</td>
<td>31.0</td>
<td>MIA</td>
<td>17.3</td>
<td>AS</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">62</td>
<td>57.0</td>
<td>Kyle Lowry</td>
<td>31.0</td>
<td>TOR</td>
<td>16.2</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">64</td>
<td>59.0</td>
<td>Kyle Kuzma</td>
<td>22.0</td>
<td>LAL</td>
<td>16.1</td>
<td>ROY-4,6MOY-9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">66</td>
<td>61.0</td>
<td>Ben Simmons</td>
<td>21.0</td>
<td>PHI</td>
<td>15.8</td>
<td>ROY-1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">67</td>
<td>62.0</td>
<td>Will Barton</td>
<td>27.0</td>
<td>DEN</td>
<td>15.7</td>
<td>6MOY-4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">68</td>
<td>63.0</td>
<td>Nikola Mirotić</td>
<td>26.0</td>
<td>2TM</td>
<td>15.6</td>
<td>6MOY-7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">77</td>
<td>68.0</td>
<td>Dennis Smith Jr.</td>
<td>20.0</td>
<td>DAL</td>
<td>15.2</td>
<td>ROY-5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">79</td>
<td>70.0</td>
<td>Andre Drummond</td>
<td>24.0</td>
<td>DET</td>
<td>15.0</td>
<td>DPOY-15,AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">80</td>
<td>71.0</td>
<td>Rodney Hood</td>
<td>25.0</td>
<td>2TM</td>
<td>14.7</td>
<td>6MOY-12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">87</td>
<td>76.0</td>
<td>Jaylen Brown</td>
<td>21.0</td>
<td>BOS</td>
<td>14.5</td>
<td>DPOY-10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">93</td>
<td>80.0</td>
<td>Jusuf Nurkić</td>
<td>23.0</td>
<td>POR</td>
<td>14.3</td>
<td>DPOY-15</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>86.0</td>
<td>Jordan Clarkson</td>
<td>25.0</td>
<td>2TM</td>
<td>13.9</td>
<td>6MOY-7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">102</td>
<td>87.0</td>
<td>Steven Adams</td>
<td>24.0</td>
<td>OKC</td>
<td>13.9</td>
<td>DPOY-12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">103</td>
<td>88.0</td>
<td>Clint Capela</td>
<td>23.0</td>
<td>HOU</td>
<td>13.9</td>
<td>DPOY-14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">106</td>
<td>91.0</td>
<td>Jayson Tatum</td>
<td>19.0</td>
<td>BOS</td>
<td>13.9</td>
<td>ROY-3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">109</td>
<td>94.0</td>
<td>Rudy Gobert</td>
<td>25.0</td>
<td>UTA</td>
<td>13.5</td>
<td>DPOY-1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">121</td>
<td>106.0</td>
<td>Al Horford</td>
<td>31.0</td>
<td>BOS</td>
<td>12.9</td>
<td>DPOY-5,AS</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">132</td>
<td>115.0</td>
<td>Robert Covington</td>
<td>27.0</td>
<td>PHI</td>
<td>12.6</td>
<td>DPOY-8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">142</td>
<td>125.0</td>
<td>Marco Belinelli</td>
<td>31.0</td>
<td>2TM</td>
<td>12.1</td>
<td>6MOY-12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">157</td>
<td>138.0</td>
<td>J.J. Barea</td>
<td>33.0</td>
<td>DAL</td>
<td>11.6</td>
<td>6MOY-12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">164</td>
<td>145.0</td>
<td>Kelly Olynyk</td>
<td>26.0</td>
<td>MIA</td>
<td>11.5</td>
<td>6MOY-6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">165</td>
<td>146.0</td>
<td>Dwyane Wade</td>
<td>36.0</td>
<td>2TM</td>
<td>11.4</td>
<td>6MOY-10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">169</td>
<td>148.0</td>
<td>Terry Rozier</td>
<td>23.0</td>
<td>BOS</td>
<td>11.3</td>
<td>6MOY-10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">170</td>
<td>149.0</td>
<td>Wayne Ellington</td>
<td>30.0</td>
<td>MIA</td>
<td>11.2</td>
<td>6MOY-5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">173</td>
<td>152.0</td>
<td>Draymond Green</td>
<td>27.0</td>
<td>GSW</td>
<td>11.0</td>
<td>DPOY-6,AS</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">243</td>
<td>205.0</td>
<td>Fred VanVleet</td>
<td>23.0</td>
<td>TOR</td>
<td>8.6</td>
<td>6MOY-3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">289</td>
<td>245.0</td>
<td>Luc Mbah a Moute</td>
<td>31.0</td>
<td>HOU</td>
<td>7.5</td>
<td>6MOY-12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">296</td>
<td>252.0</td>
<td>Tomáš Satoranský</td>
<td>26.0</td>
<td>WAS</td>
<td>7.2</td>
<td>6MOY-12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">311</td>
<td>265.0</td>
<td>Jakob Poeltl</td>
<td>22.0</td>
<td>TOR</td>
<td>6.9</td>
<td>6MOY-12</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>We see that a number of players have won different awards. We can count the number of each awards. Let’s do that!</li>
</ul>
<div id="f2eb3882" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count of awards</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>awards <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>awards[<span class="st">"Awards"</span>].value_counts().head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>Awards
AS               9
6MOY-12          6
6MOY-7           2
6MOY-10          2
MVP-1,AS,NBA1    1
DPOY-12          1
6MOY-4           1
ROY-5            1
DPOY-15,AS       1
DPOY-10          1
Name: count, dtype: int64</code></pre>
</div>
</div>
<ul>
<li>We find out that the AS award is the most common award among the players. We can filter the data to show only players who have won the certain awards such as AS award and the 6MOY-12 award.</li>
</ul>
<div id="a6183dd2" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Players with AS and  6MOY-12 awards</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players[players[<span class="st">"Awards"</span>].<span class="bu">str</span>.contains(<span class="st">"AS|6MOY-12"</span>, regex<span class="op">=</span><span class="va">True</span>, na<span class="op">=</span><span class="va">False</span>)]</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(players)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Rk                 Player   Age Team   PTS  \
0      1.0           James Harden  28.0  HOU  30.4   
1      2.0          Anthony Davis  24.0  NOP  28.1   
2      3.0           LeBron James  33.0  CLE  27.5   
3      4.0  Giannis Antetokounmpo  23.0  MIL  26.9   
4      5.0         Damian Lillard  27.0  POR  26.9   
5      6.0          Stephen Curry  29.0  GSW  26.4   
6      7.0           Kevin Durant  29.0  GSW  26.4   
7      8.0      Russell Westbrook  29.0  OKC  25.4   
8      9.0       DeMarcus Cousins  27.0  NOP  25.2   
10    11.0           Kyrie Irving  25.0  BOS  24.4   
11    12.0      LaMarcus Aldridge  32.0  SAS  23.1   
12    13.0         Victor Oladipo  25.0  IND  23.1   
13    14.0          DeMar DeRozan  28.0  TOR  23.0   
14    15.0            Joel Embiid  23.0  PHI  22.9   
15    16.0     Kristaps Porziņģis  22.0  NYK  22.7   
16    17.0           Bradley Beal  24.0  WAS  22.6   
18    19.0           Jimmy Butler  28.0  MIN  22.2   
19    20.0           Kemba Walker  27.0  CHO  22.1   
20    21.0            Paul George  27.0  OKC  21.9   
25    24.0     Karl-Anthony Towns  22.0  MIN  21.3   
29    28.0          Klay Thompson  27.0  GSW  20.0   
33    32.0              John Wall  27.0  WAS  19.4   
49    44.0             Kevin Love  29.0  CLE  17.6   
52    47.0           Goran Dragić  31.0  MIA  17.3   
62    57.0             Kyle Lowry  31.0  TOR  16.2   
79    70.0         Andre Drummond  24.0  DET  15.0   
80    71.0            Rodney Hood  25.0  2TM  14.7   
121  106.0             Al Horford  31.0  BOS  12.9   
142  125.0        Marco Belinelli  31.0  2TM  12.1   
157  138.0             J.J. Barea  33.0  DAL  11.6   
173  152.0         Draymond Green  27.0  GSW  11.0   
289  245.0       Luc Mbah a Moute  31.0  HOU   7.5   
296  252.0       Tomáš Satoranský  26.0  WAS   7.2   
311  265.0           Jakob Poeltl  22.0  TOR   6.9   

                           Awards  
0                   MVP-1,AS,NBA1  
1            MVP-3,DPOY-3,AS,NBA1  
2                   MVP-2,AS,NBA1  
3                   MVP-6,AS,NBA2  
4                   MVP-4,AS,NBA1  
5                  MVP-10,AS,NBA3  
6            MVP-7,DPOY-9,AS,NBA1  
7                   MVP-5,AS,NBA2  
8                              AS  
10                             AS  
11                  MVP-9,AS,NBA2  
12   MVP-13,DPOY-15,MIP-1,AS,NBA3  
13                  MVP-8,AS,NBA2  
14          MVP-12,DPOY-2,AS,NBA2  
15                             AS  
16                             AS  
18         MVP-10,DPOY-12,AS,NBA3  
19                             AS  
20                 DPOY-4,AS,NBA3  
25                        AS,NBA3  
29                     DPOY-11,AS  
33                             AS  
49                             AS  
52                             AS  
62                             AS  
79                     DPOY-15,AS  
80                        6MOY-12  
121                     DPOY-5,AS  
142                       6MOY-12  
157                       6MOY-12  
173                     DPOY-6,AS  
289                       6MOY-12  
296                       6MOY-12  
311                       6MOY-12  </code></pre>
</div>
</div>
<ul>
<li>On awards, can we find out which players are top ranked and with awards, and which players are top ranked without awards? Let’s find out!</li>
</ul>
<div id="a65af67f" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top ranked players with awards</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players[players[<span class="st">"Awards"</span>].notnull()]</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"PTS"</span>], ascending<span class="op">=</span>[<span class="va">False</span>]).head(<span class="dv">10</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>James Harden</td>
<td>28.0</td>
<td>HOU</td>
<td>30.4</td>
<td>MVP-1,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>Anthony Davis</td>
<td>24.0</td>
<td>NOP</td>
<td>28.1</td>
<td>MVP-3,DPOY-3,AS,NBA1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>LeBron James</td>
<td>33.0</td>
<td>CLE</td>
<td>27.5</td>
<td>MVP-2,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>Giannis Antetokounmpo</td>
<td>23.0</td>
<td>MIL</td>
<td>26.9</td>
<td>MVP-6,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>Damian Lillard</td>
<td>27.0</td>
<td>POR</td>
<td>26.9</td>
<td>MVP-4,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6.0</td>
<td>Stephen Curry</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-10,AS,NBA3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7.0</td>
<td>Kevin Durant</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-7,DPOY-9,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8.0</td>
<td>Russell Westbrook</td>
<td>29.0</td>
<td>OKC</td>
<td>25.4</td>
<td>MVP-5,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>9.0</td>
<td>DeMarcus Cousins</td>
<td>27.0</td>
<td>NOP</td>
<td>25.2</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>11.0</td>
<td>Kyrie Irving</td>
<td>25.0</td>
<td>BOS</td>
<td>24.4</td>
<td>AS</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="2ae4c7cb" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top ranked players without awards</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players[players[<span class="st">"Awards"</span>].isnull()]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"PTS"</span>], ascending<span class="op">=</span>[<span class="va">False</span>]).head(<span class="dv">10</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>10.0</td>
<td>Devin Booker</td>
<td>21.0</td>
<td>PHO</td>
<td>24.9</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>22.0</td>
<td>Blake Griffin</td>
<td>28.0</td>
<td>LAC</td>
<td>22.6</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>23.0</td>
<td>CJ McCollum</td>
<td>26.0</td>
<td>POR</td>
<td>21.4</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>22.0</td>
<td>Blake Griffin</td>
<td>28.0</td>
<td>2TM</td>
<td>21.4</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>26.0</td>
<td>MarShon Brooks</td>
<td>29.0</td>
<td>MEM</td>
<td>20.1</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>27.0</td>
<td>Khris Middleton</td>
<td>26.0</td>
<td>MIL</td>
<td>20.1</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>22.0</td>
<td>Blake Griffin</td>
<td>28.0</td>
<td>DET</td>
<td>19.8</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>29.0</td>
<td>T.J. Warren</td>
<td>24.0</td>
<td>PHO</td>
<td>19.6</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>30.0</td>
<td>Tyreke Evans</td>
<td>28.0</td>
<td>MEM</td>
<td>19.4</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>31.0</td>
<td>Dennis Schröder</td>
<td>24.0</td>
<td>ATL</td>
<td>19.4</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li><p>We can even go further to detemine the players with the highest number of awards. Let’s find out who they are. But wait, going straight to coding brings some errors. Seems like it is not that simple!</p></li>
<li><p>The best thing to do is to display the awards column to understand the structure of the data. This will help us in filtering the data to find the players with the highest number of awards.</p></li>
</ul>
<div id="19915a0b" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the awards column</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>tables[<span class="dv">0</span>][<span class="st">"Awards"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>0             MVP-1,AS,NBA1
1      MVP-3,DPOY-3,AS,NBA1
2             MVP-2,AS,NBA1
3             MVP-6,AS,NBA2
4             MVP-4,AS,NBA1
               ...         
660                     NaN
661                     NaN
662                     NaN
663                     NaN
664                     NaN
Name: Awards, Length: 665, dtype: object</code></pre>
</div>
</div>
<ul>
<li>Aha, we can see that the awards column contains multiple awards separated by commas. We can create a new column to count the number of awards for each player. We will name it “Awards count.” Let’s do that!</li>
</ul>
<div id="4edf9df7" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The number of wards for each player</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>players_awards <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]].copy()</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace NaN in the Awards column with an empty string</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>players_awards[<span class="st">"Awards"</span>] <span class="op">=</span> players_awards[<span class="st">"Awards"</span>].fillna(<span class="st">""</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>players_awards[<span class="st">"Awards count"</span>] <span class="op">=</span> players_awards[<span class="st">"Awards"</span>].<span class="bu">apply</span>(</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: <span class="dv">0</span> <span class="cf">if</span> x <span class="op">==</span> <span class="st">""</span> <span class="cf">else</span> x.count(<span class="st">","</span>) <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>players_awards</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
<th data-quarto-table-cell-role="th">Awards count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>James Harden</td>
<td>28.0</td>
<td>HOU</td>
<td>30.4</td>
<td>MVP-1,AS,NBA1</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>Anthony Davis</td>
<td>24.0</td>
<td>NOP</td>
<td>28.1</td>
<td>MVP-3,DPOY-3,AS,NBA1</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>LeBron James</td>
<td>33.0</td>
<td>CLE</td>
<td>27.5</td>
<td>MVP-2,AS,NBA1</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>Giannis Antetokounmpo</td>
<td>23.0</td>
<td>MIL</td>
<td>26.9</td>
<td>MVP-6,AS,NBA2</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>Damian Lillard</td>
<td>27.0</td>
<td>POR</td>
<td>26.9</td>
<td>MVP-4,AS,NBA1</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">660</td>
<td>537.0</td>
<td>Josh McRoberts</td>
<td>30.0</td>
<td>DAL</td>
<td>0.0</td>
<td></td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">661</td>
<td>538.0</td>
<td>Luis Montero</td>
<td>24.0</td>
<td>DET</td>
<td>0.0</td>
<td></td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">662</td>
<td>539.0</td>
<td>Ben Moore</td>
<td>22.0</td>
<td>IND</td>
<td>0.0</td>
<td></td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">663</td>
<td>540.0</td>
<td>Xavier Silas</td>
<td>30.0</td>
<td>BOS</td>
<td>0.0</td>
<td></td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">664</td>
<td>NaN</td>
<td>League Average</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td></td>
<td>0</td>
</tr>
</tbody>
</table>

<p>665 rows × 7 columns</p>
</div>
</div>
</div>
</section>
<section id="bonus-analysis" class="level2">
<h2 class="anchored" data-anchor-id="bonus-analysis">Bonus Analysis</h2>
<div id="bbc1db4e" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top ranked players</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"PTS"</span>], ascending<span class="op">=</span>[<span class="va">False</span>]).head(<span class="dv">10</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>James Harden</td>
<td>28.0</td>
<td>HOU</td>
<td>30.4</td>
<td>MVP-1,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>Anthony Davis</td>
<td>24.0</td>
<td>NOP</td>
<td>28.1</td>
<td>MVP-3,DPOY-3,AS,NBA1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3.0</td>
<td>LeBron James</td>
<td>33.0</td>
<td>CLE</td>
<td>27.5</td>
<td>MVP-2,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4.0</td>
<td>Giannis Antetokounmpo</td>
<td>23.0</td>
<td>MIL</td>
<td>26.9</td>
<td>MVP-6,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5.0</td>
<td>Damian Lillard</td>
<td>27.0</td>
<td>POR</td>
<td>26.9</td>
<td>MVP-4,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>6.0</td>
<td>Stephen Curry</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-10,AS,NBA3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>7.0</td>
<td>Kevin Durant</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-7,DPOY-9,AS,NBA1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8.0</td>
<td>Russell Westbrook</td>
<td>29.0</td>
<td>OKC</td>
<td>25.4</td>
<td>MVP-5,AS,NBA2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>9.0</td>
<td>DeMarcus Cousins</td>
<td>27.0</td>
<td>NOP</td>
<td>25.2</td>
<td>AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>10.0</td>
<td>Devin Booker</td>
<td>21.0</td>
<td>PHO</td>
<td>24.9</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>Let’s figure out the lowest 10 ranked players in the NBA. We can sort the data by the age in a descending order to find out.</li>
</ul>
<div id="4f4cef20" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lowest 10 ranked players </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"Age"</span>], ascending<span class="op">=</span>[<span class="va">False</span>]).head(<span class="dv">10</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">391</td>
<td>326.0</td>
<td>Vince Carter</td>
<td>41.0</td>
<td>SAC</td>
<td>5.4</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">517</td>
<td>424.0</td>
<td>Jason Terry</td>
<td>40.0</td>
<td>MIL</td>
<td>3.3</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">223</td>
<td>191.0</td>
<td>Manu Ginóbili</td>
<td>40.0</td>
<td>SAS</td>
<td>8.9</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">150</td>
<td>131.0</td>
<td>Dirk Nowitzki</td>
<td>39.0</td>
<td>DAL</td>
<td>12.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">603</td>
<td>488.0</td>
<td>Damien Wilkins</td>
<td>38.0</td>
<td>IND</td>
<td>1.7</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">646</td>
<td>525.0</td>
<td>Udonis Haslem</td>
<td>37.0</td>
<td>MIA</td>
<td>0.6</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">611</td>
<td>496.0</td>
<td>Richard Jefferson</td>
<td>37.0</td>
<td>DEN</td>
<td>1.5</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">317</td>
<td>269.0</td>
<td>David West</td>
<td>37.0</td>
<td>GSW</td>
<td>6.8</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">188</td>
<td>162.0</td>
<td>Jamal Crawford</td>
<td>37.0</td>
<td>MIN</td>
<td>10.3</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">576</td>
<td>467.0</td>
<td>Nick Collison</td>
<td>37.0</td>
<td>OKC</td>
<td>2.1</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>Can a player be the lowest ranked and still have awards? Let’s find out!</li>
</ul>
<div id="4fc32c7a" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lowest ranked players with awards</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players[players[<span class="st">"Awards"</span>].notnull()]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"PTS"</span>], ascending<span class="op">=</span>[<span class="va">True</span>]).head(<span class="dv">10</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">311</td>
<td>265.0</td>
<td>Jakob Poeltl</td>
<td>22.0</td>
<td>TOR</td>
<td>6.9</td>
<td>6MOY-12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">296</td>
<td>252.0</td>
<td>Tomáš Satoranský</td>
<td>26.0</td>
<td>WAS</td>
<td>7.2</td>
<td>6MOY-12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">289</td>
<td>245.0</td>
<td>Luc Mbah a Moute</td>
<td>31.0</td>
<td>HOU</td>
<td>7.5</td>
<td>6MOY-12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">243</td>
<td>205.0</td>
<td>Fred VanVleet</td>
<td>23.0</td>
<td>TOR</td>
<td>8.6</td>
<td>6MOY-3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">173</td>
<td>152.0</td>
<td>Draymond Green</td>
<td>27.0</td>
<td>GSW</td>
<td>11.0</td>
<td>DPOY-6,AS</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">170</td>
<td>149.0</td>
<td>Wayne Ellington</td>
<td>30.0</td>
<td>MIA</td>
<td>11.2</td>
<td>6MOY-5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">169</td>
<td>148.0</td>
<td>Terry Rozier</td>
<td>23.0</td>
<td>BOS</td>
<td>11.3</td>
<td>6MOY-10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">165</td>
<td>146.0</td>
<td>Dwyane Wade</td>
<td>36.0</td>
<td>2TM</td>
<td>11.4</td>
<td>6MOY-10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">164</td>
<td>145.0</td>
<td>Kelly Olynyk</td>
<td>26.0</td>
<td>MIA</td>
<td>11.5</td>
<td>6MOY-6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">157</td>
<td>138.0</td>
<td>J.J. Barea</td>
<td>33.0</td>
<td>DAL</td>
<td>11.6</td>
<td>6MOY-12</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="05b46010" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lowest ranked players without awards</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players[players[<span class="st">"Awards"</span>].isnull()]</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> players.sort_values(by<span class="op">=</span>[<span class="st">"PTS"</span>], ascending<span class="op">=</span>[<span class="va">True</span>]).head(<span class="dv">10</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>players</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">663</td>
<td>540.0</td>
<td>Xavier Silas</td>
<td>30.0</td>
<td>BOS</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">565</td>
<td>459.0</td>
<td>Rashad Vaughn</td>
<td>21.0</td>
<td>BRK</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">662</td>
<td>539.0</td>
<td>Ben Moore</td>
<td>22.0</td>
<td>IND</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">237</td>
<td>202.0</td>
<td>Isaiah Canaan</td>
<td>26.0</td>
<td>HOU</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">651</td>
<td>530.0</td>
<td>Chris Boucher</td>
<td>25.0</td>
<td>GSW</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">652</td>
<td>531.0</td>
<td>Nicolás Brussino</td>
<td>24.0</td>
<td>ATL</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">653</td>
<td>532.0</td>
<td>Jarell Eddie</td>
<td>26.0</td>
<td>2TM</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">654</td>
<td>532.0</td>
<td>Jarell Eddie</td>
<td>26.0</td>
<td>BOS</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">574</td>
<td>466.0</td>
<td>Bruno Caboclo</td>
<td>22.0</td>
<td>TOR</td>
<td>0.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">656</td>
<td>533.0</td>
<td>Mindaugas Kuzminskas</td>
<td>28.0</td>
<td>NYK</td>
<td>0.0</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>We can also explore the relationship between age and points scored by the players. We can create a scatter plot to visualize this relationship.</li>
</ul>
<div id="ac6ecca1" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Raltionship between age and points</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>players <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]]</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.figure(facecolor<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>players.plot.scatter(x<span class="op">=</span><span class="st">"Age"</span>, y<span class="op">=</span><span class="st">"PTS"</span>, title<span class="op">=</span><span class="st">"Relationship between Age and Points"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="nba_players_files/figure-html/cell-22-output-2.png" width="585" height="449" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="ad86fe89" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating age groups, and finding the average points for each group, and plotting the results</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>players_age_grp <span class="op">=</span> tables[<span class="dv">0</span>][[<span class="st">"Rk"</span>, <span class="st">"Player"</span>, <span class="st">"Age"</span>, <span class="st">"Team"</span>, <span class="st">"PTS"</span>, <span class="st">"Awards"</span>]].copy()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>players_age_grp[<span class="st">"Age group"</span>] <span class="op">=</span> pd.cut(</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    players_age_grp[<span class="st">"Age"</span>], </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    bins<span class="op">=</span>[<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>], </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>[<span class="st">"15-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>, <span class="st">"41-45"</span>],</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    include_lowest<span class="op">=</span><span class="va">True</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by age group and calculate average points</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>avg_points_by_age <span class="op">=</span> players_age_grp.groupby(<span class="st">"Age group"</span>, observed<span class="op">=</span><span class="va">False</span>)[<span class="st">"PTS"</span>].mean()</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the results</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>plt.figure(facecolor<span class="op">=</span><span class="st">"grey"</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>avg_points_by_age.plot(kind<span class="op">=</span><span class="st">"bar"</span>, title<span class="op">=</span><span class="st">"Average Points by Age Group"</span>, color<span class="op">=</span><span class="st">"blue"</span>)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Age Group"</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Average Points"</span>)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="nba_players_files/figure-html/cell-23-output-1.png" width="662" height="470" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Also, who are the top 10 players with the most awards? We can sort the data by the “Awards count” column in descending order to find out.</li>
</ul>
<div id="c5f06fe5" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 players with the most awards</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>players_awards.sort_values(by<span class="op">=</span><span class="st">"Awards count"</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Rk</th>
<th data-quarto-table-cell-role="th">Player</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Team</th>
<th data-quarto-table-cell-role="th">PTS</th>
<th data-quarto-table-cell-role="th">Awards</th>
<th data-quarto-table-cell-role="th">Awards count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>13.0</td>
<td>Victor Oladipo</td>
<td>25.0</td>
<td>IND</td>
<td>23.1</td>
<td>MVP-13,DPOY-15,MIP-1,AS,NBA3</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>19.0</td>
<td>Jimmy Butler</td>
<td>28.0</td>
<td>MIN</td>
<td>22.2</td>
<td>MVP-10,DPOY-12,AS,NBA3</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>15.0</td>
<td>Joel Embiid</td>
<td>23.0</td>
<td>PHI</td>
<td>22.9</td>
<td>MVP-12,DPOY-2,AS,NBA2</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>7.0</td>
<td>Kevin Durant</td>
<td>29.0</td>
<td>GSW</td>
<td>26.4</td>
<td>MVP-7,DPOY-9,AS,NBA1</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>2.0</td>
<td>Anthony Davis</td>
<td>24.0</td>
<td>NOP</td>
<td>28.1</td>
<td>MVP-3,DPOY-3,AS,NBA1</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>James Harden</td>
<td>28.0</td>
<td>HOU</td>
<td>30.4</td>
<td>MVP-1,AS,NBA1</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>14.0</td>
<td>DeMar DeRozan</td>
<td>28.0</td>
<td>TOR</td>
<td>23.0</td>
<td>MVP-8,AS,NBA2</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>12.0</td>
<td>LaMarcus Aldridge</td>
<td>32.0</td>
<td>SAS</td>
<td>23.1</td>
<td>MVP-9,AS,NBA2</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>21.0</td>
<td>Paul George</td>
<td>27.0</td>
<td>OKC</td>
<td>21.9</td>
<td>DPOY-4,AS,NBA3</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>8.0</td>
<td>Russell Westbrook</td>
<td>29.0</td>
<td>OKC</td>
<td>25.4</td>
<td>MVP-5,AS,NBA2</td>
<td>3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>We have successfully imported tables from the web and performed some analysis on the data. We have explored the data to find out the oldest and youngest players in the NBA, the top 10 oldest and youngest players ranked by points, players with awards, the number of awards for each player, and the relationship between age and points scored by the players. We have also created visualizations to better understand the data. We have also found out the top 10 players with the most awards. This analysis provides valuable insights into the NBA player statistics and can be used for further analysis and decision-making.</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>